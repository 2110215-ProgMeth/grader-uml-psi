# name: Code Quality

# on:
#   push:
#     branches: [ "*" ]
#   pull_request:
#     branches: [ "*" ]

# jobs:
#   code-quality:
#     runs-on: ubuntu-latest
    
#     steps:
#     - uses: actions/checkout@v4
    
#     - name: Set up JDK 17
#       uses: actions/setup-java@v4
#       with:
#         java-version: '17'
#         distribution: 'temurin'
    
#     - name: Cache Maven dependencies
#       uses: actions/cache@v4
#       with:
#         path: ~/.m2
#         key: ${{ runner.os }}-m2-${{ hashFiles('core/**/pom.xml') }}
#         restore-keys: ${{ runner.os }}-m2
    
#     - name: Compile
#       run: mvn clean compile test-compile
#       working-directory: ./core
    
#     - name: Run Checkstyle
#       run: mvn checkstyle:check
#       working-directory: ./core
#       continue-on-error: true
    
#     - name: Run SpotBugs
#       run: mvn spotbugs:check
#       working-directory: ./core
#       continue-on-error: true
    
#     - name: Run PMD
#       run: mvn pmd:check
#       working-directory: ./core
#       continue-on-error: true
    
#     - name: Dependency vulnerability check
#       run: mvn org.owasp:dependency-check-maven:check
#       working-directory: ./core
#       continue-on-error: true
    
#     - name: Upload SpotBugs results
#       uses: github/codeql-action/upload-sarif@v3
#       if: always()
#       with:
#         sarif_file: core/target/spotbugsXml.xml
#       continue-on-error: true
    
#     - name: Archive analysis results
#       uses: actions/upload-artifact@v4
#       if: always()
#       with:
#         name: code-analysis-results
#         path: |
#           core/target/checkstyle-result.xml
#           core/target/spotbugsXml.xml
#           core/target/pmd.xml
#           core/target/dependency-check-report.html